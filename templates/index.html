<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Weather App</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    ></script>
    <style>
      #place {
        margin-top: 50px;
        font-size: 36px;
        font-weight: 700;
      }
      #temp {
        background-color: #c4d0d4;
        margin-right: 10px;
      }
      #humid {
        background-color: #b4c5cf;
        margin-right: 10px;
      }
      #condition {
        background-color: #94a9b3;
        margin-right: 10px;
      }
      .box {
        padding-top: 20px;
      }
      .form-control {
        border: 2px solid black;
        height: 40px;
      }
      .btn {
        height: 40px;
        background-color: #94a9b3;
      }
      #search {
        margin-left: 60px;
      }
      .conditionCard {
        border-radius: 20px;
        box-shadow: 0px 4px 8px 0px rgba(0, 0, 0, 0.2);
        transition: 0.3s;
        height: 100px;
      }
      .container {
        margin-top: 70px;
      }
    </style>
  </head>
  <body>
    <section id="search" class="mt-4">
      <div class="container">
        <form method="POST">
          <div class="d-flex row">
            <div class="col-md-10">
              <input
                type="text"
                name="city_code"
                placeholder="Enter City Code (e.g., INXX0096)"
                class="form-control"
                required
              />
            </div>
            <div class="col-md-2">
              <button type="submit" class="btn btn-outline-dark">Search</button>
            </div>
          </div>
        </form>
      </div>
    </section>

    {% if weather %}
    <section id="place">
      <div class="container card">
        {% if weather.error %}
        <h3 class="text-center text-danger">{{ weather.error }}</h3>
        {% else %}
        <h1 class="text-center">Weather Data</h1>
        <p class="text-center"><strong>Last Updated:</strong> {{ weather.timestamp }}</p>
      </div>
    </section>

    <section id="weather">
      <div class="container">
        <div class="row d-flex mx-auto text-center">
          <div class="col" id="temp">
            <div class="box">
              <h3>
                Temperature <span><i class="bi bi-thermometer-half"></i></span>
              </h3>
              <h1>{{ weather.temperature }}F</h1>
            </div>
          </div>
          <div class="col" id="humid">
            <div class="box">
              <h3>
                Humidity
                <span
                  ><img
                    width="30"
                    height="30"
                    src="https://img.icons8.com/ios-glyphs/30/moisture.png"
                    alt="moisture"
                /></span>
              </h3>
              <h1>{{ weather.humidity }}</h1>
            </div>
          </div>
          <div class="col" id="condition">
            <div class="box">
              <h3>
                Condition
                <span
                  ><img
                    src="https://img.icons8.com/?size=100&id=RyvldWcnzX2L&format=png&color=000000"
                    alt=""
                    height="30"
                    width="30"
                /></span>
              </h3>
              <div class="card mt-5 conditionCard">
                <h1 class="text-center pt-4">{{ weather.condition }}</h1>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    {% endif %}
    {% endif %}
  </body>
</html>
